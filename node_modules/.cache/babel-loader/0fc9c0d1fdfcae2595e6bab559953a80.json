{"ast":null,"code":"const SAVED_EMAIL = 'SAVED_EMAIL';\nconst GET_CURRENCIES = 'GET_CURRENCIES';\nconst REQUEST_CURRENCIES = 'REQUEST_CURRENCIES';\nconst ADD_EXPENSES = 'ADD_EXPENSES';\nconst SET_EXPENSE = 'SET_EXPENSE';\nexport const savedEmailAction = email => ({\n  type: SAVED_EMAIL,\n  payload: email\n});\nexport const getCurrenciesAction = currencies => ({\n  type: GET_CURRENCIES,\n  payload: currencies\n});\nexport const requestCurrenciesAction = () => ({\n  type: REQUEST_CURRENCIES\n});\n\nconst fetchCurrencies = async () => {\n  const url = 'https://economia.awesomeapi.com.br/json/all';\n  const response = await fetch(url);\n  const data = await response.json();\n  delete data.USDT;\n  return data;\n};\n\nexport const fetchCurrenciesThunk = () => async dispatch => {\n  dispatch(requestCurrenciesAction());\n\n  try {\n    const currencies = await fetchCurrencies();\n    const currenciesResponse = Object.keys(currencies);\n    dispatch(getCurrenciesAction(currenciesResponse));\n  } catch (error) {\n    return dispatch(error);\n  }\n};\n\nconst addExpenses = payload => ({\n  type: ADD_EXPENSES,\n  payload\n});\n\nexport const setExpense = walletState => async dispatch => {\n  // Callback anonima\n  const url = 'https://economia.awesomeapi.com.br/json/all';\n  const response = await fetch(url);\n  const data = await response.json();\n  const payload = { ...walletState,\n    exchangeRates: { ...data\n    }\n  };\n  dispatch(addExpenses(payload));\n};","map":{"version":3,"sources":["/home/andre/Projetos/sd-020/frontend/sd-020-b-project-trybewallet/src/actions/index.js"],"names":["SAVED_EMAIL","GET_CURRENCIES","REQUEST_CURRENCIES","ADD_EXPENSES","SET_EXPENSE","savedEmailAction","email","type","payload","getCurrenciesAction","currencies","requestCurrenciesAction","fetchCurrencies","url","response","fetch","data","json","USDT","fetchCurrenciesThunk","dispatch","currenciesResponse","Object","keys","error","addExpenses","setExpense","walletState","exchangeRates"],"mappings":"AAAA,MAAMA,WAAW,GAAG,aAApB;AACA,MAAMC,cAAc,GAAG,gBAAvB;AACA,MAAMC,kBAAkB,GAAG,oBAA3B;AACA,MAAMC,YAAY,GAAG,cAArB;AACA,MAAMC,WAAW,GAAG,aAApB;AAEA,OAAO,MAAMC,gBAAgB,GAAIC,KAAD,KAAY;AAC1CC,EAAAA,IAAI,EAAEP,WADoC;AAE1CQ,EAAAA,OAAO,EAAEF;AAFiC,CAAZ,CAAzB;AAKP,OAAO,MAAMG,mBAAmB,GAAIC,UAAD,KAAiB;AAClDH,EAAAA,IAAI,EAAEN,cAD4C;AAElDO,EAAAA,OAAO,EAAEE;AAFyC,CAAjB,CAA5B;AAKP,OAAO,MAAMC,uBAAuB,GAAG,OAAO;AAC5CJ,EAAAA,IAAI,EAAEL;AADsC,CAAP,CAAhC;;AAIP,MAAMU,eAAe,GAAG,YAAY;AAClC,QAAMC,GAAG,GAAG,6CAAZ;AACA,QAAMC,QAAQ,GAAG,MAAMC,KAAK,CAACF,GAAD,CAA5B;AACA,QAAMG,IAAI,GAAG,MAAMF,QAAQ,CAACG,IAAT,EAAnB;AACA,SAAOD,IAAI,CAACE,IAAZ;AACA,SAAOF,IAAP;AACD,CAND;;AAQA,OAAO,MAAMG,oBAAoB,GAAG,MAAM,MAAOC,QAAP,IAAoB;AAC5DA,EAAAA,QAAQ,CAACT,uBAAuB,EAAxB,CAAR;;AACA,MAAI;AACF,UAAMD,UAAU,GAAG,MAAME,eAAe,EAAxC;AACA,UAAMS,kBAAkB,GAAGC,MAAM,CAACC,IAAP,CAAYb,UAAZ,CAA3B;AACAU,IAAAA,QAAQ,CAACX,mBAAmB,CAACY,kBAAD,CAApB,CAAR;AACD,GAJD,CAIE,OAAOG,KAAP,EAAc;AACd,WAAOJ,QAAQ,CAACI,KAAD,CAAf;AACD;AACF,CATM;;AAWP,MAAMC,WAAW,GAAIjB,OAAD,KAAc;AAChCD,EAAAA,IAAI,EAAEJ,YAD0B;AAEhCK,EAAAA;AAFgC,CAAd,CAApB;;AAKA,OAAO,MAAMkB,UAAU,GAAIC,WAAD,IAAiB,MAAOP,QAAP,IAAoB;AAAE;AAC/D,QAAMP,GAAG,GAAG,6CAAZ;AACA,QAAMC,QAAQ,GAAG,MAAMC,KAAK,CAACF,GAAD,CAA5B;AACA,QAAMG,IAAI,GAAG,MAAMF,QAAQ,CAACG,IAAT,EAAnB;AACA,QAAMT,OAAO,GAAG,EAAE,GAAGmB,WAAL;AAAkBC,IAAAA,aAAa,EAAE,EAAE,GAAGZ;AAAL;AAAjC,GAAhB;AACAI,EAAAA,QAAQ,CAACK,WAAW,CAACjB,OAAD,CAAZ,CAAR;AACD,CANM","sourcesContent":["const SAVED_EMAIL = 'SAVED_EMAIL';\nconst GET_CURRENCIES = 'GET_CURRENCIES';\nconst REQUEST_CURRENCIES = 'REQUEST_CURRENCIES';\nconst ADD_EXPENSES = 'ADD_EXPENSES';\nconst SET_EXPENSE = 'SET_EXPENSE';\n\nexport const savedEmailAction = (email) => ({\n  type: SAVED_EMAIL,\n  payload: email,\n});\n\nexport const getCurrenciesAction = (currencies) => ({\n  type: GET_CURRENCIES,\n  payload: currencies,\n});\n\nexport const requestCurrenciesAction = () => ({\n  type: REQUEST_CURRENCIES,\n});\n\nconst fetchCurrencies = async () => {\n  const url = 'https://economia.awesomeapi.com.br/json/all';\n  const response = await fetch(url);\n  const data = await response.json();\n  delete data.USDT;\n  return data;\n};\n\nexport const fetchCurrenciesThunk = () => async (dispatch) => {\n  dispatch(requestCurrenciesAction());\n  try {\n    const currencies = await fetchCurrencies();\n    const currenciesResponse = Object.keys(currencies);\n    dispatch(getCurrenciesAction(currenciesResponse));\n  } catch (error) {\n    return dispatch(error);\n  }\n};\n\nconst addExpenses = (payload) => ({\n  type: ADD_EXPENSES,\n  payload,\n});\n\nexport const setExpense = (walletState) => async (dispatch) => { // Callback anonima\n  const url = 'https://economia.awesomeapi.com.br/json/all';\n  const response = await fetch(url);\n  const data = await response.json();\n  const payload = { ...walletState, exchangeRates: { ...data } };\n  dispatch(addExpenses(payload));\n};\n"]},"metadata":{},"sourceType":"module"}